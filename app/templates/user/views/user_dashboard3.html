



<main class="container" data-ng-controller="UserDashboardController as UserDashCtrl" ng-init="UserDashCtrl.getUserInfo()" id="ud_container" style="font-family: Helvetica;">

<div class="containter">

	<div class="row">
		<div class="col-md-12 col-sm-12">
			<h1>Welcome back, {{UserDashCtrl.userObject.user_name}}!</h1>
			We value you as a customer and strive to deliver a solution that is right for you.<br><br>
		</div>
	</div>
<!--/////////////////// START NOTIFICATION ROW /////////////////////-->
	<div class="row apptRow">
		<div class="col-md-2 col-sm-12 apptHead" style="line-height:80px;height:80px;text-align:center;">
			<h4>{{UserDashCtrl.message}}</h4>
		</div>
		<div class="col-md-4 col-sm-12" style="padding:0;"  >
			<div class="apptHead"><span>Where & When</span></div>
			<div class="apptText">{{UserDashCtrl.appointment.service_center}}<br>{{UserDashCtrl.appointment.appointment_date_time}}</div>
		</div>
		<div class="col-md-3 col-sm-12" style="padding:0;">
			<div class="apptHead">Your Vehicle(s)</div>
			<div style="display:inline;" class="apptText"><span  ng-if="UserDashCtrl.userObject.autos.length ==0"> You haven't entered a car.<br><a style="color: white;"  ng-controller="vehicleModalController as $ctrl" ng-click ="$ctrl.open()">Add a vehicle</a></span>


			</div>

			<span ng-repeat="car in UserDashCtrl.all" style="display:inline; color: white;">
             <a ng-class="{myColor: UserDashCtrl.demo == $index}" ng-click="UserDashCtrl.demo = $index" style="color:white;" >{{car.make}} {{car.model}}</a>
      </span>



		</div>
		<div class="col-md-3 col-sm-12" style="padding:0;">
			<div class="apptHead">Services <span style="float: right;">			<a ng-click="UserDashCtrl.addRequest()" style="color: white;">Add a request</a></span></div>

			<div class="apptText" ng-repeat="car in UserDashCtrl.all">  <span  ng-if="UserDashCtrl.userObject.service_requests.length ==0">  <a style="color: white;" ng-click ="UserDashCtrl.addRequest()">Submit a request</a></span> <span ng-hide = "UserDashCtrl.demo != $index">


  <a  ng-class="{myColor: UserDashCtrl.demo2 == $index}" ng-click="UserDashCtrl.demo2 = $index; UserDashCtrl.getQuotesByRequest(request)" ng-repeat="request in car.requests track by $index"   style="color:white;">{{request.parsed}}</a>

{{UserDashCtrl.the_quotes.quote_text}}
			</div>

				<div class="apptText">  <span  ng-if="UserDashCtrl.userObject.service_requests.length ==0">  <a style="color: white;" ng-click ="UserDashCtrl.addRequest()">Submit a request</a></span>
			</div>
		</div>
	</div>

<!-- <h2 ng-repeat = "quo in UserDashCtrl.sq_array">{{quo}}</h2> -->

	</div>
<!--/////////////////// START MAINTENANCE LISTINGS COLUMN /////////////////////-->
<!-- <input type="text" ng-model="UserDashCtrl.val">
<button ng-click="UserDashCtrl.add()">Add Directive Button</button>
<div id="container">
</div>
<div> -->

	<!-- <p ng-repeat="c in UserDashCtrl.all" style="color: green;">{{c}}</p> -->
</div>
<!-- ==========NEW BIDS TAB ============ -->
	<div class="row" id="user_dash">
		<div class="col-md-12 col-sm-12 col-xs-12">
			<h3 >Your Maintenance</h3>

	 <uib-tabset active="active">

		 <uib-tab index="$index + 1" ng-repeat="car in UserDashCtrl.all" heading="{{car.make}} {{car.model}}">

	<a ng-click="UserDashCtrl.testfunc(car)">
	{{car.make}}</a>

	 <p ng-repeat="quotes in UserDashCtrl.quotes_by_car">{{quotes}}</p>


	 <!-- /////re-inserting map begins -->
	 <div class="row" >

 
<!-- ========MAP======== -->

<!-- <dash-dir></dash-dir> -->
 <div class="col-md-6 col-sm-6" id="mapDiv" ng-init="UserDashCtrl.initIt()">


	    <map  center="{{UserDashCtrl.local}}">
				<marker position = "{{UserDashCtrl.local}}" animation="Animation.BOUNCE"  centered="true"> </marker>

				<marker id='{{p.id}}' position="{{p.pos}}"
					 ng-repeat="p in UserDashCtrl.positions"
					 on-click="UserDashCtrl.showDetail(p)"
					 icon="{{p.map_icon_pics}}"
					 title="pos: {{p.pos}}"
					 on-mouseover="UserDashCtrl.showDetail(p);"
					 on-mouseout="UserDashCtrl.hideDetail()">
					</marker>
     </map>

<!-- <ng-map></ng-map> -->
	 </div>

	 <!-- ////reinserting map ends  -->
 		 </uib-tab>
	 </uib-tabset>

		</div>
	</div>

</div>

<!-- <script async defer src="https://maps.googleapis.com/maps/api/js?key=&PROCESS.ENV.GMAP"
 type="text/javascript"></script> -->

     <!-- <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=&AIzaSyCLzT4Bs5J76J12Xbn6ewEsbwNgsQ-eHHw"
		  type="text/javascript"></script> -->

</main>
